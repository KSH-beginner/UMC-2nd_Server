### 1. 시스템 분석

- 실제 서비스 화면, 기능을 보고 어떤 데이터들이 필요할 지 분석
- 인스타그램 시스템의 필요한 데이터
    - 첫번째 화면 - 유저 프로필 화면
        - 유저 닉네임
        - 유저 이름
        - 유저 프로필 사진
        - 유저 소개글
        - 유저 웹 사이트 링크
        - 팔로워 수
        - 팔로잉 수
        - 게시물 개수
        - 게시물 사진
    
    - 두번째 화면 - 메인 화면
        - 게시물 내용
        - 게시물 좋아요 수
        - 게시물 댓글 수
        - 게시물 올린 시간
        
    - 세번째 화면 - 게시물 댓글 화면
        - 댓글 내용
        - 댓글 올린 시간
        - 태그된 유저
        - 댓글 좋아요 수
        - 대댓글 여부

---

### 2. 논리 : 1단계에서 분석한 데이터들을 논리적인 3가지로 분류

### ① Entity : 객체

- 1단계에서 분석한 데이터들을 묶을 수 있는 하나의 단위
    - EX) 유저 닉네임, 이름, 프사, 소개글, 웹사이트 링크를 묶어서 `**User**` 라는 객체로!

★ **가장 중요한 것은, 객체를 도출해내는 것이다!**

어떤 것들을 묶어서 하나의 객체를 만들지, 이러한 객체 도출과정이 중요하다.

- 분석한 데이터를 여러 객체로 나타내 보자!
    - 유저 닉네임, 이름, 프로필 사진, 소개글, 웹 사이트 링크 : `**User**` 객체
    - 팔로워 수, 팔로잉 수 : `**Follow**` 객체
    - 게시물 개수, 사진, 내용, 좋아요 수, 댓글 수, 올린 시간 : `**Board**` 객체
    - 댓글 내용, 올린 시간, 태그된 유저, 좋아요 수, 대댓글 여부 : `**Comment**` 객체

### ② Attribute : 속성

- Entity의 요소 하나하나를 Entity의 속성이라고 부른다.
    - EX) `User` Entity의 Attribute : 닉네임, 이름, 프사, 소개글, 웹사이트 링크

### ③ Relation : 관계

- 객체들간의 관계를 설정 : **1:1 & 1:N & N:M**
    - 유저 : 게시물 / 게시물 : 댓글 / 유저 : 댓글 - 1 : N 관계
        - 유저가 여러개의 게시물 게시 / 게시물에 여러 댓글 / 유저가 여러 개의 댓글 작성
    
    - 책 : 작가 - N : M 관계
        - 하나의 책을 여러 작가가 집필 / 한 명의 작가가 여러 책 집필 가능
        
    - 사람 : 주민등록번호 - 1 : 1 관계
        - 한 사람당 하나의 주민등록번호만 가진다.
        

---

### 3. 물리 : 실제 DBMS를 구성하기 위한 과정

### ① Entity : 테이블로 변환

- 👉 `**User**` 테이블 / `**Follow**` 테이블 / `**Board**` 테이블 / `**Comment**` 테이블

### ② Attribute : 각 테이블의 Column

- User 테이블 : 닉네임, 이름, 프로필 사진, 소개글, 웹사이트 링크 Column

### ③ Relation을 변환할 때

- **PK(Primary Key) : 각 테이블의 대표값, 고유한 값으로 무조건 하나는 있어야 한다.**
    - 유저가 여러명이 있을 때 각각의 유저를 구분할 수 있는 값
    
    👉 사람의 고유 값 : 주민등록번호 / 학생의 고유값 : 학번
    
    하지만, 주민등록번호는 노출이 되면 안되므로 대부분 숫자를 부여해준다.
    
    1번 유저, 2번 유저, ... 
    
    👉 **User 테이블 Column에 유저를 구분할 수 있는 유저인덱스 Column을 추가!** 
    
    → PK를 유저인덱스로 설정
    
- **FK(Foreign Key) : 외래키로, FK를 통해 관계 설정을 하게 된다.**
    - 1:N 관계
        - N에 속하는 테이블에 1에 속하는 테이블의 인덱스를 추가해줘서 관계 설정
    
    ![image](https://user-images.githubusercontent.com/95729738/163780472-b4a73f5f-f76b-4d46-b32e-d57cf41bee9c.png)
    
    - N:M 관계
        - N-M의 관계를 설정하는 테이블을 따로 만들고 Column으로 각각의 PK 추가
        
        ![image](https://user-images.githubusercontent.com/95729738/163780479-e3135a38-81fb-4e72-b01b-2f76de88c5de.png)
        
    
    - 1:1 관계 : 한쪽을 다른 한쪽의 Column으로 표현하거나, 두 개의 테이블로 나눠서 관리하면 된다 (중복이 없으므로)
    
    - 유저 테이블과 게시물 테이블은 1:N관계이므로 게시물 테이블에는 어떤 유저가 쓴지에 대한 Column이 필요하다.
    
- Join : 쿼리 용어
